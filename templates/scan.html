
<!doctype html><html><head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script>
function runNuclei(id,cat){
 let fd=new FormData(); fd.append('categories',cat);
 fetch('/run_nuclei/'+id,{method:'POST',body:fd});
 alert(cat+' scan started');
}
</script></head>
<body class="container py-4">

<div class="d-flex justify-content-between mb-3">
<a href="/" class="btn btn-secondary">‚Üê Dashboard</a>
<a href="/results/{{ job.domain }}" class="btn btn-success">View Results</a>
</div>

<h3>Scan: {{ job.domain }}</h3>

<a class="btn btn-sm btn-outline-info mb-2"
 href="?{% if only_alive %}{% else %}http_alive=yes{% endif %}">
{% if only_alive %}Show All{% else %}Only HTTP Alive{% endif %}
</a>

<table class="table table-hover table-bordered align-middle">
<tr class="table-dark">
<th>Subdomain</th><th>HTTP</th><th>Ports</th><th>Nuclei</th>
</tr>
{% for s in subdomains %}
<tr>
<td><strong>{{ s.name }}</strong></td>
<td>
<span class="badge {% if s.http_alive %}bg-success{% else %}bg-secondary{% endif %}">
{{ 'Yes' if s.http_alive else 'No' }}
</span>
</td>
<td>
{% for p in s.ports %}
<span class="badge bg-light text-dark">{{ p.port }}</span>
{% endfor %}
</td>
<td>
{% for c in categories %}
<button class="btn btn-sm btn-outline-primary mb-1"
 onclick="runNuclei({{ s.id }},'{{ c }}')">{{ c }}</button>
{% endfor %}
<p class="small text-muted mb-0">Status: {{ progress.get(s.id,'idle') }}</p>
</td>
</tr>
{% endfor %}
</table>

</body></html>
